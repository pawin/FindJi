//
//  Question.swift
//  findji
//
//  Created by win on 11/27/16.
//  Copyright Â© 2016 Pawin Thepbanchaporn. All rights reserved.
//

import Foundation

enum QuestionType: Int {
    case random         = 0
    case smiley         = 1
    case gesture        = 2
    case face           = 3
    case family         = 4
    case animalFace     = 5
    case animal         = 6
    case fruit          = 7
    case food           = 8
    case vehicle        = 9
    case photo          = 10
    case building       = 11
    case tool           = 12
    case purpleSign     = 13
    case orangeSign     = 14
    case greySign       = 15
    case clock          = 16
    case flag           = 17
    
    private var characters: String {
        switch self {
        case .random:
            let randomNumber = Int(arc4random_uniform(UInt32(17))) + 1
            NSLog(">>\(randomNumber)")
            let type = QuestionType(rawValue: randomNumber) ?? QuestionType(rawValue: 1)!
            return type.characters
        case .smiley:
            return "ğŸ˜€ğŸ˜¬ğŸ˜ğŸ˜‚ğŸ˜ƒğŸ˜„ğŸ˜…ğŸ˜†ğŸ˜‡ğŸ˜‰ğŸ˜ŠğŸ™‚ğŸ™ƒâ˜ºï¸ğŸ˜‹ğŸ˜ŒğŸ˜ğŸ˜˜ğŸ˜—ğŸ˜™ğŸ˜šğŸ˜œğŸ˜ğŸ˜›ğŸ¤‘ğŸ¤“ğŸ˜ğŸ¤—ğŸ˜ğŸ˜¶ğŸ˜ğŸ˜‘ğŸ˜’ğŸ™„ğŸ¤”ğŸ˜³ğŸ˜ğŸ˜ŸğŸ˜ ğŸ˜¡ğŸ˜”ğŸ˜•ğŸ™â˜¹ï¸ğŸ˜£ğŸ˜–ğŸ˜«ğŸ˜©ğŸ˜¤ğŸ˜®ğŸ˜±ğŸ˜¨ğŸ˜°ğŸ˜¯ğŸ˜¦ğŸ˜§ğŸ˜¢ğŸ˜¥ğŸ˜ªğŸ˜“ğŸ˜­ğŸ˜µğŸ˜²ğŸ¤ğŸ˜·ğŸ¤’ğŸ¤•ğŸ˜´"
        case .gesture:
            return "ğŸ‘ğŸ‘ğŸ‘ğŸ‘ŠâœŠğŸ‘‹ğŸ‘ˆğŸ‘‰ğŸ‘†ğŸ‘‡ğŸ–âœ‹âœŒï¸â˜ï¸ğŸ‘ŒğŸ‘ğŸ’ªğŸ™ğŸ––ğŸ¤˜ğŸ–•âœï¸ğŸ‘‚ğŸ‘ƒ"
        case .face:
            return "ğŸ‘¶ğŸ‘¦ğŸ‘§ğŸ‘¨ğŸ‘©ğŸ‘±â€â™€ï¸ğŸ‘±ğŸ‘´ğŸ‘®â€â™€ï¸ğŸ‘³ğŸ‘³â€â™€ï¸ğŸ‘²ğŸ‘µğŸ‘®ğŸ‘·â€â™€ï¸ğŸ‘·ğŸ’‚â€â™€ï¸ğŸ’‚ğŸ•µï¸â€â™€ï¸ğŸ•µğŸ…ğŸ‘¸ğŸ‘°ğŸ‘¼ğŸ™ğŸ™â€â™‚ï¸ğŸ™ğŸ™â€â™‚ï¸ğŸ’†ğŸ’†â€â™‚ï¸"
        case .family:
            return "ğŸ‘ªğŸ‘©â€ğŸ‘©â€ğŸ‘¦ğŸ‘¨â€ğŸ‘¨â€ğŸ‘¦ğŸ‘©â€ğŸ‘¦ğŸ‘¨â€ğŸ‘¦ğŸ‘¨â€ğŸ‘©â€ğŸ‘§ğŸ‘©â€ğŸ‘©â€ğŸ‘§ğŸ‘¨â€ğŸ‘¨â€ğŸ‘§ğŸ‘©â€ğŸ‘§ğŸ‘¨â€ğŸ‘§ğŸ‘¨â€ğŸ‘©â€ğŸ‘§â€ğŸ‘¦ğŸ‘©â€ğŸ‘©â€ğŸ‘§â€ğŸ‘¦ğŸ‘¨â€ğŸ‘¨â€ğŸ‘§â€ğŸ‘¦ğŸ‘©â€ğŸ‘§â€ğŸ‘¦ğŸ‘¨â€ğŸ‘§â€ğŸ‘¦ğŸ‘¨â€ğŸ‘©â€ğŸ‘¦â€ğŸ‘¦ğŸ‘©â€ğŸ‘©â€ğŸ‘¦â€ğŸ‘¦ğŸ‘¨â€ğŸ‘¨â€ğŸ‘¦â€ğŸ‘¦ğŸ‘©â€ğŸ‘¦â€ğŸ‘¦ğŸ‘¨â€ğŸ‘¦â€ğŸ‘¦ğŸ‘¨â€ğŸ‘©â€ğŸ‘§â€ğŸ‘§ğŸ‘©â€ğŸ‘©â€ğŸ‘§â€ğŸ‘§ğŸ‘¨â€ğŸ‘¨â€ğŸ‘§â€ğŸ‘§ğŸ‘©â€ğŸ‘§â€ğŸ‘§ğŸ‘¨â€ğŸ‘§â€ğŸ‘§"
        case .animalFace:
            return "ğŸ¶ğŸ±ğŸ­ğŸ¹ğŸ°ğŸ»ğŸ¼ğŸ¨ğŸ¯ğŸ¦ğŸ®ğŸ·ğŸ½ğŸ¸ğŸ™ğŸµğŸ™ˆğŸ™‰ğŸ™ŠğŸ”ğŸ§ğŸ¦ğŸ¤"
        case .animal:
            return "ğŸ¦‚ğŸœğŸ†ğŸ…ğŸ‚ğŸ„ğŸªğŸƒğŸ«ğŸ˜ğŸ–ğŸğŸ‘ğŸğŸğŸ€ğŸğŸ“ğŸ¦ƒğŸ•ŠğŸ¿ğŸ‡ğŸˆğŸ©ğŸ•"
        case .fruit:
            return "ğŸğŸğŸğŸŠğŸ‹ğŸŒğŸ‰ğŸ‡ğŸ“ğŸˆğŸ’ğŸ‘ğŸğŸ…ğŸ†ğŸŒ¶ğŸŒ½ğŸ "
        case .food:
            return "ğŸ¯ğŸğŸ§€ğŸ—ğŸ–ğŸ¤ğŸ³ğŸ”ğŸŸğŸŒ­ğŸ•ğŸğŸŒ®ğŸŒ¯ğŸœğŸ²ğŸ¥ğŸ£ğŸ±ğŸ›ğŸ™ğŸšğŸ˜ğŸ¢ğŸ¡ğŸ§ğŸ¨ğŸ¦ğŸ°ğŸ‚ğŸ®ğŸ¬ğŸªğŸ©ğŸ¿ğŸ«ğŸ­ğŸºğŸ»ğŸ·ğŸ¸ğŸ¹ğŸ¼â˜•ï¸ğŸµğŸ¶ğŸ¾"
        case .vehicle:
            return "ğŸš—ğŸš•ğŸš™ğŸšŒğŸšğŸšğŸš’ğŸš‘ğŸš“ğŸğŸššğŸš›ğŸšœ"
        case .photo:
            return "ğŸš¢ğŸ¡ğŸ¢ğŸ ğŸ—ğŸŒğŸ—¼ğŸ­â›²ï¸ğŸ‘â›°ğŸ”ğŸ—»ğŸŒ‹ğŸ—¾ğŸ•â›ºï¸ğŸğŸ›£ğŸ›¤ğŸŒ…ğŸŒ„ğŸœğŸ–ğŸğŸŒ‡ğŸŒ†ğŸ™ğŸŒƒğŸŒ‰ğŸŒŒğŸŒ ğŸ‡ğŸ†ğŸŒˆğŸ˜ğŸ°ğŸ¯ğŸŸğŸ—½"
        case .building:
            return "ğŸ ğŸ¡ğŸšğŸ¢ğŸ¬ğŸ£ğŸ¤ğŸ¥ğŸ¦ğŸ¨ğŸªğŸ«ğŸ©ğŸ’’ğŸ›â›ªï¸ğŸ•ŒğŸ•ğŸ•‹â›©"
        case .tool:
            return "ğŸ”¨âš’ğŸ› â›ğŸ”§ğŸ”©ğŸ”ªâš”ï¸ğŸ—¡ğŸ’‰ğŸ”‘ğŸ—"
        case .purpleSign:
            return "â˜®ï¸âœï¸â˜ªï¸ğŸ•‰â˜¸ï¸âœ¡ï¸ğŸ”¯ğŸ•â˜¯ï¸â˜¦ï¸ğŸ›â›â™ˆï¸â™‰ï¸â™Šï¸â™‹ï¸â™Œï¸â™ï¸â™ï¸â™ï¸â™ï¸â™‘ï¸â™’ï¸â™“ï¸ğŸ†”âš›ï¸"
        case .orangeSign:
            return "â˜¢ï¸â˜£ï¸ğŸ“´ğŸ“³ğŸˆ¶ğŸˆšï¸ğŸˆ¸ğŸˆºğŸˆ·âœ´ï¸ğŸ†š"
        case .greySign:
            return "ğŸš»ğŸš®ğŸ¦ğŸ“¶ğŸˆğŸ”¤ğŸ”¡ğŸ” ğŸ”£â„¹ï¸ğŸ†–ğŸ†—ğŸ†™ğŸ†’ğŸ†•ğŸ†“ğŸ”¢#ï¸âƒ£*ï¸âƒ£â–¶ï¸âºâ¹âªâ«â¬â—€ï¸ğŸ”¼â©â¯â¬‡ï¸â¬†ï¸â¬…ï¸â¡ï¸ğŸ”½â†—ï¸â†˜ï¸â†™ï¸â†–ï¸â†•ï¸â†”ï¸ğŸ”€ğŸ”â†ªï¸â†©ï¸ğŸ”‚ğŸ”„â¤´ï¸â¤µï¸"
        case .clock:
            return "ğŸ•ğŸ•‘ğŸ•’ğŸ•“ğŸ•”ğŸ••ğŸ•–ğŸ•—ğŸ•˜ğŸ•™ğŸ•šğŸ•›ğŸ•œğŸ•ğŸ•ğŸ•ŸğŸ• ğŸ•¡ğŸ•¢ğŸ•£ğŸ•¤ğŸ•¥ğŸ•¦ğŸ•§"
        case .flag:
            return "ğŸ‡¦ğŸ‡« ğŸ‡¦ğŸ‡½ ğŸ‡¦ğŸ‡± ğŸ‡©ğŸ‡¿ ğŸ‡¦ğŸ‡¸ ğŸ‡¦ğŸ‡¬ ğŸ‡¦ğŸ‡¶ ğŸ‡¦ğŸ‡® ğŸ‡¦ğŸ‡´ ğŸ‡¦ğŸ‡© ğŸ‡¦ğŸ‡· ğŸ‡¦ğŸ‡² ğŸ‡¦ğŸ‡¼ ğŸ‡¦ğŸ‡º ğŸ‡¦ğŸ‡¹ ğŸ‡§ğŸ‡§ ğŸ‡§ğŸ‡© ğŸ‡§ğŸ‡­ ğŸ‡§ğŸ‡¸ ğŸ‡¦ğŸ‡¿ ğŸ‡§ğŸ‡¾ ğŸ‡§ğŸ‡ª ğŸ‡§ğŸ‡¿ ğŸ‡§ğŸ‡¯ ğŸ‡§ğŸ‡² ğŸ‡§ğŸ‡· ğŸ‡§ğŸ‡¼ ğŸ‡§ğŸ‡¦ ğŸ‡§ğŸ‡´ ğŸ‡§ğŸ‡¹ ğŸ‡®ğŸ‡´ ğŸ‡»ğŸ‡¬ ğŸ‡§ğŸ‡³ ğŸ‡§ğŸ‡¬ ğŸ‡§ğŸ‡« ğŸ‡®ğŸ‡¨ ğŸ‡¨ğŸ‡¦ ğŸ‡¨ğŸ‡² ğŸ‡°ğŸ‡­ ğŸ‡§ğŸ‡® ğŸ‡¨ğŸ‡» ğŸ‡§ğŸ‡¶ ğŸ‡°ğŸ‡¾ ğŸ‡¨ğŸ‡« ğŸ‡¹ğŸ‡© ğŸ‡¨ğŸ‡´ ğŸ‡¨ğŸ‡¨ ğŸ‡¨ğŸ‡½ ğŸ‡¨ğŸ‡³ ğŸ‡¨ğŸ‡± ğŸ‡°ğŸ‡² ğŸ‡¨ğŸ‡¬ ğŸ‡¨ğŸ‡© ğŸ‡¨ğŸ‡° ğŸ‡¨ğŸ‡· ğŸ‡¨ğŸ‡¾ ğŸ‡¨ğŸ‡¼ ğŸ‡¨ğŸ‡º ğŸ‡­ğŸ‡· ğŸ‡¨ğŸ‡® ğŸ‡¨ğŸ‡¿ ğŸ‡©ğŸ‡° ğŸ‡©ğŸ‡¯ ğŸ‡©ğŸ‡² ğŸ‡©ğŸ‡´ ğŸ‡ªğŸ‡· ğŸ‡¬ğŸ‡¶ ğŸ‡¸ğŸ‡» ğŸ‡ªğŸ‡¬ ğŸ‡ªğŸ‡¨ ğŸ‡ªğŸ‡ª ğŸ‡ªğŸ‡¹ ğŸ‡ªğŸ‡º ğŸ‡«ğŸ‡° ğŸ‡«ğŸ‡´ ğŸ‡µğŸ‡« ğŸ‡¬ğŸ‡« ğŸ‡«ğŸ‡· ğŸ‡«ğŸ‡® ğŸ‡«ğŸ‡¯ ğŸ‡¹ğŸ‡« ğŸ‡¬ğŸ‡¦ ğŸ‡¬ğŸ‡² ğŸ‡¬ğŸ‡ª ğŸ‡©ğŸ‡ª ğŸ‡¬ğŸ‡© ğŸ‡¬ğŸ‡± ğŸ‡¬ğŸ‡· ğŸ‡¬ğŸ‡® ğŸ‡¬ğŸ‡­ ğŸ‡¬ğŸ‡µ ğŸ‡¬ğŸ‡º ğŸ‡¬ğŸ‡¹ ğŸ‡¬ğŸ‡¬ ğŸ‡¬ğŸ‡³ ğŸ‡­ğŸ‡° ğŸ‡­ğŸ‡³ ğŸ‡­ğŸ‡¹ ğŸ‡¬ğŸ‡¾ ğŸ‡¬ğŸ‡¼ ğŸ‡­ğŸ‡º ğŸ‡®ğŸ‡¸ ğŸ‡®ğŸ‡³ ğŸ‡®ğŸ‡© ğŸ‡®ğŸ‡· ğŸ‡®ğŸ‡¹ ğŸ‡®ğŸ‡± ğŸ‡®ğŸ‡² ğŸ‡®ğŸ‡ª ğŸ‡®ğŸ‡¶ ğŸ‡¯ğŸ‡² ğŸ‡¯ğŸ‡µ ğŸ‡¯ğŸ‡ª ğŸ‡¯ğŸ‡´ ğŸ‡°ğŸ‡¿ ğŸ‡°ğŸ‡¬ ğŸ‡°ğŸ‡¼ ğŸ‡½ğŸ‡° ğŸ‡°ğŸ‡® ğŸ‡°ğŸ‡ª ğŸ‡±ğŸ‡¦ ğŸ‡±ğŸ‡» ğŸ‡±ğŸ‡§ ğŸ‡±ğŸ‡¸ ğŸ‡±ğŸ‡· ğŸ‡²ğŸ‡´ ğŸ‡±ğŸ‡º ğŸ‡±ğŸ‡¹ ğŸ‡±ğŸ‡® ğŸ‡±ğŸ‡¾ ğŸ‡²ğŸ‡° ğŸ‡²ğŸ‡¬ ğŸ‡²ğŸ‡¼ ğŸ‡²ğŸ‡¾ ğŸ‡²ğŸ‡» ğŸ‡²ğŸ‡· ğŸ‡²ğŸ‡¶ ğŸ‡²ğŸ‡­ ğŸ‡²ğŸ‡¹ ğŸ‡²ğŸ‡± ğŸ‡²ğŸ‡º ğŸ‡¾ğŸ‡¹ ğŸ‡²ğŸ‡½ ğŸ‡«ğŸ‡² ğŸ‡²ğŸ‡© ğŸ‡²ğŸ‡¦ ğŸ‡²ğŸ‡¸ ğŸ‡²ğŸ‡ª ğŸ‡²ğŸ‡³ ğŸ‡²ğŸ‡¨ ğŸ‡²ğŸ‡¿ ğŸ‡²ğŸ‡² ğŸ‡³ğŸ‡¦ ğŸ‡³ğŸ‡· ğŸ‡³ğŸ‡µ ğŸ‡³ğŸ‡ª ğŸ‡³ğŸ‡® ğŸ‡³ğŸ‡¿ ğŸ‡³ğŸ‡¨ ğŸ‡³ğŸ‡± ğŸ‡³ğŸ‡¬ ğŸ‡³ğŸ‡º ğŸ‡³ğŸ‡« ğŸ‡°ğŸ‡µ ğŸ‡²ğŸ‡µ ğŸ‡µğŸ‡¸ ğŸ‡µğŸ‡¼ ğŸ‡µğŸ‡° ğŸ‡´ğŸ‡² ğŸ‡³ğŸ‡´ ğŸ‡µğŸ‡¦ ğŸ‡µğŸ‡¬ ğŸ‡µğŸ‡¾ ğŸ‡µğŸ‡ª ğŸ‡µğŸ‡­ ğŸ‡¶ğŸ‡¦ ğŸ‡µğŸ‡· ğŸ‡µğŸ‡¹ ğŸ‡µğŸ‡± ğŸ‡µğŸ‡³ ğŸ‡·ğŸ‡ª ğŸ‡·ğŸ‡´ ğŸ‡·ğŸ‡º ğŸ‡·ğŸ‡¼ ğŸ‡¼ğŸ‡¸ ğŸ‡·ğŸ‡¸ ğŸ‡¸ğŸ‡³ ğŸ‡¸ğŸ‡¦ ğŸ‡¸ğŸ‡¹ ğŸ‡¸ğŸ‡² ğŸ‡¸ğŸ‡¨ ğŸ‡¸ğŸ‡± ğŸ‡¸ğŸ‡¬ ğŸ‡¸ğŸ‡½ ğŸ‡¸ğŸ‡° ğŸ‡¿ğŸ‡¦ ğŸ‡¸ğŸ‡´ ğŸ‡¸ğŸ‡§ ğŸ‡¬ğŸ‡¸ ğŸ‡¸ğŸ‡® ğŸ‡°ğŸ‡· ğŸ‡¸ğŸ‡¸ ğŸ‡ªğŸ‡¸ ğŸ‡±ğŸ‡° ğŸ‡§ğŸ‡± ğŸ‡»ğŸ‡¨ ğŸ‡µğŸ‡² ğŸ‡±ğŸ‡¨ ğŸ‡°ğŸ‡³ ğŸ‡¸ğŸ‡­ ğŸ‡¸ğŸ‡© ğŸ‡¸ğŸ‡· ğŸ‡¸ğŸ‡¿ ğŸ‡¸ğŸ‡ª ğŸ‡¨ğŸ‡­ ğŸ‡¹ğŸ‡­ ğŸ‡¹ğŸ‡¿ ğŸ‡¹ğŸ‡¯ ğŸ‡¹ğŸ‡¼ ğŸ‡¸ğŸ‡¾ ğŸ‡¹ğŸ‡± ğŸ‡¹ğŸ‡¬ ğŸ‡¹ğŸ‡° ğŸ‡¹ğŸ‡´ ğŸ‡¹ğŸ‡¹ ğŸ‡¹ğŸ‡» ğŸ‡¹ğŸ‡¨ ğŸ‡¹ğŸ‡² ğŸ‡¹ğŸ‡· ğŸ‡¹ğŸ‡³ ğŸ‡»ğŸ‡® ğŸ‡ºğŸ‡¬ ğŸ‡ºğŸ‡¦ ğŸ‡¦ğŸ‡ª ğŸ‡¬ğŸ‡§ ğŸ‡»ğŸ‡¦ ğŸ‡»ğŸ‡º ğŸ‡ºğŸ‡¿ ğŸ‡ºğŸ‡¾ ğŸ‡ºğŸ‡¸ ğŸ‡»ğŸ‡ª ğŸ‡»ğŸ‡³ ğŸ‡¼ğŸ‡« ğŸ‡ªğŸ‡­ ğŸ‡¾ğŸ‡ª ğŸ‡¿ğŸ‡¼ ğŸ‡¿ğŸ‡²"
        }
    }
    
    var randomChoices: [String] {
        let array: [String]
        switch self {
        case .flag: // Not sure why flag emoji doesn't work like other emojis, will seperate with " " instead
            array = self.characters.components(separatedBy: " ")
        default:
            array = Array(self.characters.characters.map{ String($0) })
        }
        let shuffled = array.shuffled
        return Array(shuffled.prefix(8))
    }
    
    var answerIndex: Int {
        let choices = randomChoices
        let randomIndex = Int(arc4random_uniform(UInt32(choices.count)))
        return randomIndex
    }
}

struct Question {
    let type: QuestionType
    let choices: [String]
    let answer: String
    
    init(_ questionType: QuestionType) {
        self.type = questionType
        self.choices = questionType.randomChoices
        self.answer = questionType.randomChoices[questionType.answerIndex]
    }
}
