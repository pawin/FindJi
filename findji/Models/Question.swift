//
//  Question.swift
//  findji
//
//  Created by win on 11/27/16.
//  Copyright Â© 2016 Pawin Thepbanchaporn. All rights reserved.
//

import Foundation

enum QuestionType: Int {
    case smiley         = 1
    case gesture        = 2
    case face           = 3
    case family         = 4
    case animalFace     = 5
    case animal         = 6
    case fruit          = 7
    case food           = 8
    case vehicle        = 9
    case photo          = 10
    case building       = 11
    case tool           = 12
    case purpleSign     = 13
    case orangeSign     = 14
    case greySign       = 15
    case clock          = 16
    case flag           = 17
    
    private var characters: String {
        switch self {
        case .smiley:
            return "ðŸ˜€ðŸ˜¬ðŸ˜ðŸ˜‚ðŸ˜ƒðŸ˜„ðŸ˜…ðŸ˜†ðŸ˜‡ðŸ˜‰ðŸ˜ŠðŸ™‚ðŸ™ƒâ˜ºï¸ðŸ˜‹ðŸ˜ŒðŸ˜ðŸ˜˜ðŸ˜—ðŸ˜™ðŸ˜šðŸ˜œðŸ˜ðŸ˜›ðŸ¤‘ðŸ¤“ðŸ˜ŽðŸ¤—ðŸ˜ðŸ˜¶ðŸ˜ðŸ˜‘ðŸ˜’ðŸ™„ðŸ¤”ðŸ˜³ðŸ˜žðŸ˜ŸðŸ˜ ðŸ˜¡ðŸ˜”ðŸ˜•ðŸ™â˜¹ï¸ðŸ˜£ðŸ˜–ðŸ˜«ðŸ˜©ðŸ˜¤ðŸ˜®ðŸ˜±ðŸ˜¨ðŸ˜°ðŸ˜¯ðŸ˜¦ðŸ˜§ðŸ˜¢ðŸ˜¥ðŸ˜ªðŸ˜“ðŸ˜­ðŸ˜µðŸ˜²ðŸ¤ðŸ˜·ðŸ¤’ðŸ¤•ðŸ˜´"
        case .gesture:
            return "ðŸ‘ðŸ‘ðŸ‘ŽðŸ‘ŠâœŠðŸ‘‹ðŸ‘ˆðŸ‘‰ðŸ‘†ðŸ‘‡ðŸ–âœ‹âœŒï¸â˜ï¸ðŸ‘ŒðŸ‘ðŸ’ªðŸ™ðŸ––ðŸ¤˜ðŸ–•âœï¸ðŸ‘‚ðŸ‘ƒ"
        case .face:
            return "ðŸ‘¶ðŸ‘¦ðŸ‘§ðŸ‘¨ðŸ‘©ðŸ‘±â€â™€ï¸ðŸ‘±ðŸ‘´ðŸ‘®â€â™€ï¸ðŸ‘³ðŸ‘³â€â™€ï¸ðŸ‘²ðŸ‘µðŸ‘®ðŸ‘·â€â™€ï¸ðŸ‘·ðŸ’‚â€â™€ï¸ðŸ’‚ðŸ•µï¸â€â™€ï¸ðŸ•µðŸŽ…ðŸ‘¸ðŸ‘°ðŸ‘¼ðŸ™ŽðŸ™Žâ€â™‚ï¸ðŸ™ðŸ™â€â™‚ï¸ðŸ’†ðŸ’†â€â™‚ï¸"
        case .family:
            return "ðŸ‘ªðŸ‘©â€ðŸ‘©â€ðŸ‘¦ðŸ‘¨â€ðŸ‘¨â€ðŸ‘¦ðŸ‘©â€ðŸ‘¦ðŸ‘¨â€ðŸ‘¦ðŸ‘¨â€ðŸ‘©â€ðŸ‘§ðŸ‘©â€ðŸ‘©â€ðŸ‘§ðŸ‘¨â€ðŸ‘¨â€ðŸ‘§ðŸ‘©â€ðŸ‘§ðŸ‘¨â€ðŸ‘§ðŸ‘¨â€ðŸ‘©â€ðŸ‘§â€ðŸ‘¦ðŸ‘©â€ðŸ‘©â€ðŸ‘§â€ðŸ‘¦ðŸ‘¨â€ðŸ‘¨â€ðŸ‘§â€ðŸ‘¦ðŸ‘©â€ðŸ‘§â€ðŸ‘¦ðŸ‘¨â€ðŸ‘§â€ðŸ‘¦ðŸ‘¨â€ðŸ‘©â€ðŸ‘¦â€ðŸ‘¦ðŸ‘©â€ðŸ‘©â€ðŸ‘¦â€ðŸ‘¦ðŸ‘¨â€ðŸ‘¨â€ðŸ‘¦â€ðŸ‘¦ðŸ‘©â€ðŸ‘¦â€ðŸ‘¦ðŸ‘¨â€ðŸ‘¦â€ðŸ‘¦ðŸ‘¨â€ðŸ‘©â€ðŸ‘§â€ðŸ‘§ðŸ‘©â€ðŸ‘©â€ðŸ‘§â€ðŸ‘§ðŸ‘¨â€ðŸ‘¨â€ðŸ‘§â€ðŸ‘§ðŸ‘©â€ðŸ‘§â€ðŸ‘§ðŸ‘¨â€ðŸ‘§â€ðŸ‘§"
        case .animalFace:
            return "ðŸ¶ðŸ±ðŸ­ðŸ¹ðŸ°ðŸ»ðŸ¼ðŸ¨ðŸ¯ðŸ¦ðŸ®ðŸ·ðŸ½ðŸ¸ðŸ™ðŸµðŸ™ˆðŸ™‰ðŸ™ŠðŸ”ðŸ§ðŸ¦ðŸ¤"
        case .animal:
            return "ðŸ¦‚ðŸœðŸ†ðŸ…ðŸ‚ðŸ„ðŸªðŸƒðŸ«ðŸ˜ðŸ–ðŸŽðŸ‘ðŸðŸðŸ€ðŸðŸ“ðŸ¦ƒðŸ•ŠðŸ¿ðŸ‡ðŸˆðŸ©ðŸ•"
        case .fruit:
            return "ðŸðŸŽðŸðŸŠðŸ‹ðŸŒðŸ‰ðŸ‡ðŸ“ðŸˆðŸ’ðŸ‘ðŸðŸ…ðŸ†ðŸŒ¶ðŸŒ½ðŸ "
        case .food:
            return "ðŸ¯ðŸžðŸ§€ðŸ—ðŸ–ðŸ¤ðŸ³ðŸ”ðŸŸðŸŒ­ðŸ•ðŸðŸŒ®ðŸŒ¯ðŸœðŸ²ðŸ¥ðŸ£ðŸ±ðŸ›ðŸ™ðŸšðŸ˜ðŸ¢ðŸ¡ðŸ§ðŸ¨ðŸ¦ðŸ°ðŸŽ‚ðŸ®ðŸ¬ðŸªðŸ©ðŸ¿ðŸ«ðŸ­ðŸºðŸ»ðŸ·ðŸ¸ðŸ¹ðŸ¼â˜•ï¸ðŸµðŸ¶ðŸ¾"
        case .vehicle:
            return "ðŸš—ðŸš•ðŸš™ðŸšŒðŸšŽðŸšðŸš’ðŸš‘ðŸš“ðŸŽðŸššðŸš›ðŸšœ"
        case .photo:
            return "ðŸš¢ðŸŽ¡ðŸŽ¢ðŸŽ ðŸ—ðŸŒðŸ—¼ðŸ­â›²ï¸ðŸŽ‘â›°ðŸ”ðŸ—»ðŸŒ‹ðŸ—¾ðŸ•â›ºï¸ðŸžðŸ›£ðŸ›¤ðŸŒ…ðŸŒ„ðŸœðŸ–ðŸðŸŒ‡ðŸŒ†ðŸ™ðŸŒƒðŸŒ‰ðŸŒŒðŸŒ ðŸŽ‡ðŸŽ†ðŸŒˆðŸ˜ðŸ°ðŸ¯ðŸŸðŸ—½"
        case .building:
            return "ðŸ ðŸ¡ðŸšðŸ¢ðŸ¬ðŸ£ðŸ¤ðŸ¥ðŸ¦ðŸ¨ðŸªðŸ«ðŸ©ðŸ’’ðŸ›â›ªï¸ðŸ•ŒðŸ•ðŸ•‹â›©"
        case .tool:
            return "ðŸ”¨âš’ðŸ› â›ðŸ”§ðŸ”©ðŸ”ªâš”ï¸ðŸ—¡ðŸ’‰ðŸ”‘ðŸ—"
        case .purpleSign:
            return "â˜®ï¸âœï¸â˜ªï¸ðŸ•‰â˜¸ï¸âœ¡ï¸ðŸ”¯ðŸ•Žâ˜¯ï¸â˜¦ï¸ðŸ›â›Žâ™ˆï¸â™‰ï¸â™Šï¸â™‹ï¸â™Œï¸â™ï¸â™Žï¸â™ï¸â™ï¸â™‘ï¸â™’ï¸â™“ï¸ðŸ†”âš›ï¸"
        case .orangeSign:
            return "â˜¢ï¸â˜£ï¸ðŸ“´ðŸ“³ðŸˆ¶ðŸˆšï¸ðŸˆ¸ðŸˆºâœ´ï¸ðŸ†š"//ðŸˆ·
        case .greySign:
            return "ðŸš»ðŸš®ðŸŽ¦ðŸ“¶ðŸˆðŸ”¤ðŸ”¡ðŸ” ðŸ”£â„¹ï¸ðŸ†–ðŸ†—ðŸ†™ðŸ†’ðŸ†•ðŸ†“ðŸ”¢#ï¸âƒ£*ï¸âƒ£â–¶ï¸âºâ¹âªâ«â¬â—€ï¸ðŸ”¼â©â¯â¬‡ï¸â¬†ï¸â¬…ï¸âž¡ï¸ðŸ”½â†—ï¸â†˜ï¸â†™ï¸â†–ï¸â†•ï¸â†”ï¸ðŸ”€ðŸ”â†ªï¸â†©ï¸ðŸ”‚ðŸ”„â¤´ï¸â¤µï¸"
        case .clock:
            return "ðŸ•ðŸ•‘ðŸ•’ðŸ•“ðŸ•”ðŸ••ðŸ•–ðŸ•—ðŸ•˜ðŸ•™ðŸ•šðŸ•›ðŸ•œðŸ•ðŸ•žðŸ•ŸðŸ• ðŸ•¡ðŸ•¢ðŸ•£ðŸ•¤ðŸ•¥ðŸ•¦ðŸ•§"
        case .flag:
            return "ðŸ‡¦ðŸ‡« ðŸ‡¦ðŸ‡½ ðŸ‡¦ðŸ‡± ðŸ‡©ðŸ‡¿ ðŸ‡¦ðŸ‡¸ ðŸ‡¦ðŸ‡¬ ðŸ‡¦ðŸ‡¶ ðŸ‡¦ðŸ‡® ðŸ‡¦ðŸ‡´ ðŸ‡¦ðŸ‡© ðŸ‡¦ðŸ‡· ðŸ‡¦ðŸ‡² ðŸ‡¦ðŸ‡¼ ðŸ‡¦ðŸ‡º ðŸ‡¦ðŸ‡¹ ðŸ‡§ðŸ‡§ ðŸ‡§ðŸ‡© ðŸ‡§ðŸ‡­ ðŸ‡§ðŸ‡¸ ðŸ‡¦ðŸ‡¿ ðŸ‡§ðŸ‡¾ ðŸ‡§ðŸ‡ª ðŸ‡§ðŸ‡¿ ðŸ‡§ðŸ‡¯ ðŸ‡§ðŸ‡² ðŸ‡§ðŸ‡· ðŸ‡§ðŸ‡¼ ðŸ‡§ðŸ‡¦ ðŸ‡§ðŸ‡´ ðŸ‡§ðŸ‡¹ ðŸ‡®ðŸ‡´ ðŸ‡»ðŸ‡¬ ðŸ‡§ðŸ‡³ ðŸ‡§ðŸ‡¬ ðŸ‡§ðŸ‡« ðŸ‡®ðŸ‡¨ ðŸ‡¨ðŸ‡¦ ðŸ‡¨ðŸ‡² ðŸ‡°ðŸ‡­ ðŸ‡§ðŸ‡® ðŸ‡¨ðŸ‡» ðŸ‡§ðŸ‡¶ ðŸ‡°ðŸ‡¾ ðŸ‡¨ðŸ‡« ðŸ‡¹ðŸ‡© ðŸ‡¨ðŸ‡´ ðŸ‡¨ðŸ‡¨ ðŸ‡¨ðŸ‡½ ðŸ‡¨ðŸ‡³ ðŸ‡¨ðŸ‡± ðŸ‡°ðŸ‡² ðŸ‡¨ðŸ‡¬ ðŸ‡¨ðŸ‡© ðŸ‡¨ðŸ‡° ðŸ‡¨ðŸ‡· ðŸ‡¨ðŸ‡¾ ðŸ‡¨ðŸ‡¼ ðŸ‡¨ðŸ‡º ðŸ‡­ðŸ‡· ðŸ‡¨ðŸ‡® ðŸ‡¨ðŸ‡¿ ðŸ‡©ðŸ‡° ðŸ‡©ðŸ‡¯ ðŸ‡©ðŸ‡² ðŸ‡©ðŸ‡´ ðŸ‡ªðŸ‡· ðŸ‡¬ðŸ‡¶ ðŸ‡¸ðŸ‡» ðŸ‡ªðŸ‡¬ ðŸ‡ªðŸ‡¨ ðŸ‡ªðŸ‡ª ðŸ‡ªðŸ‡¹ ðŸ‡ªðŸ‡º ðŸ‡«ðŸ‡° ðŸ‡«ðŸ‡´ ðŸ‡µðŸ‡« ðŸ‡¬ðŸ‡« ðŸ‡«ðŸ‡· ðŸ‡«ðŸ‡® ðŸ‡«ðŸ‡¯ ðŸ‡¹ðŸ‡« ðŸ‡¬ðŸ‡¦ ðŸ‡¬ðŸ‡² ðŸ‡¬ðŸ‡ª ðŸ‡©ðŸ‡ª ðŸ‡¬ðŸ‡© ðŸ‡¬ðŸ‡± ðŸ‡¬ðŸ‡· ðŸ‡¬ðŸ‡® ðŸ‡¬ðŸ‡­ ðŸ‡¬ðŸ‡µ ðŸ‡¬ðŸ‡º ðŸ‡¬ðŸ‡¹ ðŸ‡¬ðŸ‡¬ ðŸ‡¬ðŸ‡³ ðŸ‡­ðŸ‡° ðŸ‡­ðŸ‡³ ðŸ‡­ðŸ‡¹ ðŸ‡¬ðŸ‡¾ ðŸ‡¬ðŸ‡¼ ðŸ‡­ðŸ‡º ðŸ‡®ðŸ‡¸ ðŸ‡®ðŸ‡³ ðŸ‡®ðŸ‡© ðŸ‡®ðŸ‡· ðŸ‡®ðŸ‡¹ ðŸ‡®ðŸ‡± ðŸ‡®ðŸ‡² ðŸ‡®ðŸ‡ª ðŸ‡®ðŸ‡¶ ðŸ‡¯ðŸ‡² ðŸ‡¯ðŸ‡µ ðŸ‡¯ðŸ‡ª ðŸ‡¯ðŸ‡´ ðŸ‡°ðŸ‡¿ ðŸ‡°ðŸ‡¬ ðŸ‡°ðŸ‡¼ ðŸ‡½ðŸ‡° ðŸ‡°ðŸ‡® ðŸ‡°ðŸ‡ª ðŸ‡±ðŸ‡¦ ðŸ‡±ðŸ‡» ðŸ‡±ðŸ‡§ ðŸ‡±ðŸ‡¸ ðŸ‡±ðŸ‡· ðŸ‡²ðŸ‡´ ðŸ‡±ðŸ‡º ðŸ‡±ðŸ‡¹ ðŸ‡±ðŸ‡® ðŸ‡±ðŸ‡¾ ðŸ‡²ðŸ‡° ðŸ‡²ðŸ‡¬ ðŸ‡²ðŸ‡¼ ðŸ‡²ðŸ‡¾ ðŸ‡²ðŸ‡» ðŸ‡²ðŸ‡· ðŸ‡²ðŸ‡¶ ðŸ‡²ðŸ‡­ ðŸ‡²ðŸ‡¹ ðŸ‡²ðŸ‡± ðŸ‡²ðŸ‡º ðŸ‡¾ðŸ‡¹ ðŸ‡²ðŸ‡½ ðŸ‡«ðŸ‡² ðŸ‡²ðŸ‡© ðŸ‡²ðŸ‡¦ ðŸ‡²ðŸ‡¸ ðŸ‡²ðŸ‡ª ðŸ‡²ðŸ‡³ ðŸ‡²ðŸ‡¨ ðŸ‡²ðŸ‡¿ ðŸ‡²ðŸ‡² ðŸ‡³ðŸ‡¦ ðŸ‡³ðŸ‡· ðŸ‡³ðŸ‡µ ðŸ‡³ðŸ‡ª ðŸ‡³ðŸ‡® ðŸ‡³ðŸ‡¿ ðŸ‡³ðŸ‡¨ ðŸ‡³ðŸ‡± ðŸ‡³ðŸ‡¬ ðŸ‡³ðŸ‡º ðŸ‡³ðŸ‡« ðŸ‡°ðŸ‡µ ðŸ‡²ðŸ‡µ ðŸ‡µðŸ‡¸ ðŸ‡µðŸ‡¼ ðŸ‡µðŸ‡° ðŸ‡´ðŸ‡² ðŸ‡³ðŸ‡´ ðŸ‡µðŸ‡¦ ðŸ‡µðŸ‡¬ ðŸ‡µðŸ‡¾ ðŸ‡µðŸ‡ª ðŸ‡µðŸ‡­ ðŸ‡¶ðŸ‡¦ ðŸ‡µðŸ‡· ðŸ‡µðŸ‡¹ ðŸ‡µðŸ‡± ðŸ‡µðŸ‡³ ðŸ‡·ðŸ‡ª ðŸ‡·ðŸ‡´ ðŸ‡·ðŸ‡º ðŸ‡·ðŸ‡¼ ðŸ‡¼ðŸ‡¸ ðŸ‡·ðŸ‡¸ ðŸ‡¸ðŸ‡³ ðŸ‡¸ðŸ‡¦ ðŸ‡¸ðŸ‡¹ ðŸ‡¸ðŸ‡² ðŸ‡¸ðŸ‡¨ ðŸ‡¸ðŸ‡± ðŸ‡¸ðŸ‡¬ ðŸ‡¸ðŸ‡½ ðŸ‡¸ðŸ‡° ðŸ‡¿ðŸ‡¦ ðŸ‡¸ðŸ‡´ ðŸ‡¸ðŸ‡§ ðŸ‡¬ðŸ‡¸ ðŸ‡¸ðŸ‡® ðŸ‡°ðŸ‡· ðŸ‡¸ðŸ‡¸ ðŸ‡ªðŸ‡¸ ðŸ‡±ðŸ‡° ðŸ‡§ðŸ‡± ðŸ‡»ðŸ‡¨ ðŸ‡µðŸ‡² ðŸ‡±ðŸ‡¨ ðŸ‡°ðŸ‡³ ðŸ‡¸ðŸ‡­ ðŸ‡¸ðŸ‡© ðŸ‡¸ðŸ‡· ðŸ‡¸ðŸ‡¿ ðŸ‡¸ðŸ‡ª ðŸ‡¨ðŸ‡­ ðŸ‡¹ðŸ‡­ ðŸ‡¹ðŸ‡¿ ðŸ‡¹ðŸ‡¯ ðŸ‡¹ðŸ‡¼ ðŸ‡¸ðŸ‡¾ ðŸ‡¹ðŸ‡± ðŸ‡¹ðŸ‡¬ ðŸ‡¹ðŸ‡° ðŸ‡¹ðŸ‡´ ðŸ‡¹ðŸ‡¹ ðŸ‡¹ðŸ‡» ðŸ‡¹ðŸ‡¨ ðŸ‡¹ðŸ‡² ðŸ‡¹ðŸ‡· ðŸ‡¹ðŸ‡³ ðŸ‡»ðŸ‡® ðŸ‡ºðŸ‡¬ ðŸ‡ºðŸ‡¦ ðŸ‡¦ðŸ‡ª ðŸ‡¬ðŸ‡§ ðŸ‡»ðŸ‡¦ ðŸ‡»ðŸ‡º ðŸ‡ºðŸ‡¿ ðŸ‡ºðŸ‡¾ ðŸ‡ºðŸ‡¸ ðŸ‡»ðŸ‡ª ðŸ‡»ðŸ‡³ ðŸ‡¼ðŸ‡« ðŸ‡ªðŸ‡­ ðŸ‡¾ðŸ‡ª ðŸ‡¿ðŸ‡¼ ðŸ‡¿ðŸ‡²"
        }
    }
    
    var randomChoices: [String] {
        let array: [String]
        switch self {
        case .flag: // Not sure why flag emoji doesn't work like other emojis, will seperate with " " instead
            array = self.characters.components(separatedBy: " ")
        default:
            array = Array(self.characters.characters.map{ String($0) })
        }
        let shuffled = array.shuffled
        return Array(shuffled.prefix(8))
    }
    
    var answerIndex: Int {
        let choices = randomChoices
        let randomIndex = Int(arc4random_uniform(UInt32(choices.count)))
        return randomIndex
    }
}

struct Question {
    let type: QuestionType
    let choices: [String]
    let answer: String
    
    init(_ questionType: QuestionType) {
        self.type = questionType
        self.choices = questionType.randomChoices
        self.answer = self.choices[questionType.answerIndex]
    }
    
    static func random() -> Question {
        let randomNumber = Int(arc4random_uniform(UInt32(17))) + 1
        let type = QuestionType(rawValue: randomNumber) ?? QuestionType(rawValue: 1)!
        return Question(type)
    }
}
